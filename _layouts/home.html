---
layout: default
---
<script src="{{ '/assets/javascript/version.js' | relative_url }}"></script>
<div class="green-background">
  <!-- <div class="container"> -->
    <div class="jumbotron">
      <div class="container">
        <h1>matador</h1>
        <p>
          matador is an ORM and Web Application framework written in C++. It
          encapsulates all database backend communication and offers a simple (web) server.
          You don't have to deal with database backends or sql statements neither with mapping of
          data types or serialization of objects. It comes with relation handling out
          of the box, brings a unique container for all kind of objects and a fluent sql
          query interface. All features are combined into an ORM layer. With the integrated web server
          it is possible to write your own web application with database backend.
        </p>
        <p><a class="btn btn-primary btn-lg" href="guide#introduction" role="button">Learn more &raquo;</a></p>
      </div>
    </div>
  <!-- </div> -->
</div>
<div class="container">
  <div class="row">
    <div class="col-md-12" id="release-version">
    </div>
    <div class="col-md-12">
      <div class="centered">
        <h4>Supported Databases</h4>
        <div class="btn-group" role="group" aria-label="...">
            <button type="button" class="btn btn-default disabled"><strong class="text-success">SQLite</strong></button>
            <button type="button" class="btn btn-default disabled"><strong class="text-primary">PostgreSQL</strong></button>
            <button type="button" class="btn btn-default disabled"><strong class="text-warning">MySQL/MariaDB</strong></button>
            <button type="button" class="btn btn-default disabled"><strong class="text-danger">MS SQL Server</strong></button>
            <!-- <button type="button" class="btn btn-primary">SQLite</button>
            <button type="button" class="btn btn-success">PostgreSQL</button>
            <button type="button" class="btn btn-warning">MySQL/MariaDB</button>
            <button type="button" class="btn btn-danger">SQL Server</button> -->
        </div>
    </div>
    </div>
  </div>
</div>
<div class="dark-layout top-offset-50">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
          <h2 class="centered">Unique Container</h2>
      </div>
      <div class="col-md-6">
        <p>
          matador comes with a unique kind of container where you can store all your objects
          in. Once the hierarchy of your entities is set up you can perform all CRUD operations
          on the container plus filtering and using views.
        </p>
        <p><a class="btn btn-warning" href="guide#objects" role="button">View details &raquo;</a></p>
      </div>
      <div class="col-md-6 nopadding">
{% highlight cpp linenos %}
object_store store;

// prepare object store
store.attach<person>("person");
store.attach<employee, person>("employee");
store.attach<department>("department");

// insert instances of different object types
auto george = store.insert(new employee("george"));
auto jane = store.insert(new employee("jane"));

auto dep = store.insert(new department("insurance"));
{% endhighlight %}
      </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <h2 class="centered">Fluent Query</h2>
        </div>
        <div class="col-md-6 nopadding">
{% highlight cpp linenos %}
connection conn("sqlite://db.sqlite");
conn.connect();
query<person> q("person", conn);

column name("name");
column age("age");
auto res = q
  .select()
  .where(name != "george" && age > 35)
  .execute();

for (auto p in res) {
  std::cout << "name: " p->name << "\n";
}
{% endhighlight %}
      </div>
      <div class="col-md-6">
        <p>
          The sql query module provides simple fluent interface to build sql queries. A query
          can be typed or just work on a anonymous row object. Once a query is setup it can be executed
          directly or be captured in a prepared statement.
        </p>
        <p><a class="btn btn-warning" href="guide#queries" role="button">View details &raquo;</a></p>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
          <h2 class="centered">Real Relations</h2>
      </div>
      <div class="col-md-6">
        <p>
          matador comes with real relation handling (one to one, one to many and
          many to many). Once one relation side changes the other side of the relation is
          updated automatically. This works with plain object store as well as with
          all supported database backends.
        </p>
        <p><a class="btn btn-warning" href="guide#relations" role="button">View details &raquo;</a></p>
      </div>
      <div class="col-md-6 nopadding">
{% highlight cpp linenos %}
object_store store;
// prepare store ...

auto george = store.insert(new employee("george"));
auto jane = store.insert(new employee("jane"));
auto dep = store.insert(new department("insurance"));

dep->employees.push_back(jane);

// janes department name is insurance
std::cout << jane->department->name << "\n"

george.modify()->department = dep;

// second employee in department is george
std::cout << dep->employees.size() << "\n"
{% endhighlight %}
      </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <h2 class="centered">Transactions</h2>
        </div>
        <div class="col-md-6 nopadding">
{% highlight cpp linenos %}
object_store store;
// prepare store ...

transaction tr(store);
try {
  store.insert(new author("john irwing"));
  store.insert(new author("charles darwin"));
  tr.commit();
} catch (std::exception &ex) {
  tr.rollback();
}
{% endhighlight %}
      </div>
      <div class="col-md-6">
        <p>
          With transcations the user has the possibility to pack a couple of changes into a logical
          unit which can be rolled back if one of the changes fails. They can be used within the object store
          and the ORM layer.
        </p>
        <p><a class="btn btn-warning" href="guide#transactions" role="button">View details &raquo;</a></p>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
          <h2 class="centered">ORM Layer</h2>
      </div>
      <div class="col-md-6">
        <p>
          The ORM layer finally combines the unique container, the fluent query interface and the
          relation handling. It hides all the database work, takes care of transaction handling and
          object serialization, handles all types of relationships and provides the usera simple interface.
        </p>
        <p><a class="btn btn-warning" href="guide#persistence" role="button">View details &raquo;</a></p>
      </div>
      <div class="col-md-6 nopadding">
{% highlight cpp linenos %}
persistence p("sqlite://db.sqlite");

p.attach<author>("author");
p.attach<post>("post");

// create schema
p.create();

session s(p);

transaction tr = s.begin();
try {
  p.insert(new author("john irwing"));
  p.insert(new author("charles darwin"));
  tr.commit();
} catch (std::exception &ex) {
  tr.rollback();
}
{% endhighlight %}
      </div>
    </div>
    <div>
      <div class="col-md-12">
        <h2 class="centered">Web Server</h2>
      </div>
      <div class="col-md-6 nopadding">
{% highlight cpp linenos %}
http::server server(8081);
// add routing middleware
server.add_routing_middleware();

server.on_get("/", [](const http::request &req) {
  return http::response::ok("hello world", http::mime_types::TYPE_TEXT_PLAIN);
});
server.run();
{% endhighlight %}
      </div>
      <div class="col-md-6">
        <p>
          A simple Web Servers finishes the matador setup and lets the
          user create a web application with routing. Additionally a small
          template engine is also available.
        </p>
        <p><a class="btn btn-warning" href="guide#http" role="button">View details &raquo;</a></p>
      </div>
    </div>
    </div>
  </div>
</div>
